# Usa una imagen de Maven para construir tu proyecto
FROM maven:3.8.4-openjdk-17-slim AS build

# Establece el directorio de trabajo
WORKDIR /app

# Copia los archivos de tu proyecto al contenedor
COPY . /app

# Construye tu aplicaci贸n
RUN mvn clean package

# Crea una imagen JRE (sin Maven) para ejecutar tu aplicaci贸n
FROM openjdk:17-slim

WORKDIR /app

# Copia el archivo JAR de la fase de construcci贸n anterior
COPY --from=build /app/target/*.jar /app/api-market.jar

EXPOSE 8080
# Establece el comando de inicio de tu aplicaci贸n
CMD ["java", "-jar", "api-market.jar"]
